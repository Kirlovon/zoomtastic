!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).Zoomtastic=n()}(this,(function(){"use strict";let t,n,i,o=!1,e=!1;const a={config:{}};function s(t,n={}){const i=document.createElement("div");for(const o in n)i.style[o]=n[o];return i.id=t,i}return a.mount=function(r={}){const c=document.getElementById("zoomtastic-container");c&&c.remove(),a.config.size=r.size||"95%",a.config.easing=r.easing||"ease",a.config.duration=r.duration||300,a.config.background=r.background||"rgba(0, 0, 0, 0.9)",a.config.filter=r.filter||"drop-shadow(0 2px 16px rgba(0, 0, 0, 0.3))",a.config.animation=r.animation||"slide",t=s("zoomtastic-container",{top:"0",left:"0",width:"100%",height:"100vh",position:"fixed",overflow:"hidden",cursor:"zoom-out",zIndex:"16777271",visibility:"hidden"}),n=s("zoomtastic-background",{zIndex:"0",opacity:"0",width:"100%",height:"100%",userSelect:"none",position:"absolute",background:a.config.background,transitionProperty:"opacity",transitionTimingFunction:a.config.easing,transitionDuration:parseInt(.75*a.config.duration)+"ms"}),i=s("zoomtastic-image",{top:"50%",left:"50%",width:a.config.size,height:a.config.size,opacity:"0",zIndex:"16777271",userSelect:"none",position:"absolute",pointerEvents:"none",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",transitionProperty:"all",transitionTimingFunction:a.config.easing,transitionDuration:parseInt(a.config.duration)+"ms",transform:"translate(-50%, -50%) scale(1)",filter:a.config.filter}),"slide"===a.config.animation&&(i.style.transform="translate(-50%, -45%) scale(1)"),"zoom"===a.config.animation&&(i.style.transform="translate(-50%, -50%) scale(0.95)"),"drop"===a.config.animation&&(i.style.transform="translate(-50%, -50%) scale(1.1)"),t.addEventListener("click",(()=>{e||(e=!0,a.hide())})),t.appendChild(i),t.appendChild(n),document.body.appendChild(t),e=!1,o=!0},a.listen=function(t="[zoomtastic]",n="src"){if(o||a.mount(),"string"==typeof t&&(t=document.querySelectorAll(t)),t instanceof HTMLElement&&(t=[t]),t)for(let i=0;i<t.length;i++){const o=t[i];o.style.cursor="zoom-in",o.addEventListener("click",(t=>{t.preventDefault();const i=o.getAttribute(n);i&&a.show(i)}))}},a.show=function(s){if(!s)throw new TypeError("URL is not specified");o||a.mount(),i.style.backgroundImage=`url("${encodeURI(s)}")`,t.style.visibility="visible",setTimeout((()=>{"slide"===a.config.animation&&(i.style.transform="translate(-50%, -50%) scale(1)"),"zoom"!==a.config.animation&&"drop"!==a.config.animation||(i.style.transform="translate(-50%, -50%) scale(1)"),i.style.opacity="1",n.style.opacity="1",e=!1}))},a.hide=function(){o||a.mount(),setTimeout((()=>{"slide"===a.config.animation&&(i.style.transform="translate(-50%, -45%) scale(1)"),"zoom"===a.config.animation&&(i.style.transform="translate(-50%, -50%) scale(0.95)"),"drop"===a.config.animation&&(i.style.transform="translate(-50%, -50%) scale(1.1)"),i.style.opacity="0",n.style.opacity="0"})),setTimeout((()=>{i.style.backgroundImage="none",t.style.visibility="hidden",e=!1}),parseInt(a.config.duration))},a}));